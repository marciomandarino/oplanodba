========================================================================================
== ParÃ¢metros EstÃ¡ticos vs DinÃ¢micos no Oracle
== Marcio Mandarino
== 07 de agosto de 2025
== marcio@mrdba.com.br
== www.mrdba.com.br
== https://www.linkedin.com/in/marciomandarino/
========================================================================================


=================================================================
== ğŸ¯ Resumo do vÃ­deo
=================================================================
ğŸ“ VisÃ£o Geral
ğŸ“ ParÃ¢metros EstÃ¡ticos
ğŸ“ ParÃ¢metros DinÃ¢micos
ğŸ“ Uso de MEMORY, SPFILE e BOTH
ğŸ“ Modificando os parÃ¢metros
ğŸ“ Boas PrÃ¡ticas
ğŸ“ ConclusÃ£o


=================================================================
== ğŸ¯ VisÃ£o Geral
=================================================================
â–¶ï¸ No Oracle, parÃ¢metros de inicializaÃ§Ã£o controlam o comportamento do banco
â–¶ï¸ Eles podem ser estÃ¡ticos ou dinÃ¢micos
â–¶ï¸ O impacto e a forma de aplicaÃ§Ã£o dependem de como o parÃ¢metro Ã© alterado:
   â–«ï¸ MEMORY â†’ afeta apenas a instÃ¢ncia em memÃ³ria (perde ao reiniciar)
   â–«ï¸ SPFILE â†’ grava no arquivo binÃ¡rio spfile, persistindo apÃ³s restart
   â–«ï¸ BOTH â†’ aplica na memÃ³ria e grava no spfile (persistente)
â–¶ï¸ Importante conhecer quais parÃ¢metros exigem reinÃ­cio e quais entram em vigor de imediato
*

=================================================================
== ğŸ¯ ParÃ¢metros EstÃ¡ticos
=================================================================
â–¶ï¸ SÃ£o parÃ¢metros que sÃ³ entram em vigor apÃ³s o restart da instÃ¢ncia
â–¶ï¸ Podem ser identificados pela coluna ISSYS_MODIFIABLE (FALSE) na v$parameter
â–¶ï¸ Exemplos comuns:
   â–«ï¸ PROCESSES
   â–«ï¸ SGA_MAX_SIZE
   â–«ï¸ CONTROL_FILES
   â–«ï¸ COMPATIBLE
   â–«ï¸ DB_FILES
   â–«ï¸ LOG_BUFFER

â–¶ï¸ IdentificaÃ§Ã£o:
SQL> col name form a70
SQL> SELECT name, issys_modifiable 
       FROM v$parameter
      WHERE issys_modifiable = 'FALSE' order by 1;

-- 'FALSE' indica que Ã© estÃ¡tico

=================================================================
== ğŸ¯ ParÃ¢metros DinÃ¢micos
=================================================================
â–¶ï¸ Podem ser alterados com a instÃ¢ncia em funcionamento, nÃ£o exigindo o restart
â–¶ï¸ Podem ser identificados pela coluna ISSYS_MODIFIABLE (IMMEDIATE) na v$parameter
â–¶ï¸ Exemplos comuns:
   â–«ï¸ DB_CREATE_FILE_DEST
   â–«ï¸ DB_RECOVERY_FILE_DEST
   â–«ï¸ DB_RECOVERY_FILE_DEST_SIZE
   â–«ï¸ DB_CREATE_ONLINE_LOG_DEST_1
   â–«ï¸ DB_CREATE_ONLINE_LOG_DEST_2

â–¶ï¸ IdentificaÃ§Ã£o:
SQL> col name form a40
SQL> col value form a60
SQL> SELECT name, value, issys_modifiable 
       FROM v$parameter
      WHERE issys_modifiable = 'IMMEDIATE' order by 1;
*

=================================================================
== ğŸ¯ Uso de MEMORY, SPFILE e BOTH
=================================================================
â–¶ï¸ MEMORY â†’ altera apenas a instÃ¢ncia em memÃ³ria (volta ao valor anterior apÃ³s restart)
SQL> ALTER SYSTEM SET db_recovery_file_dest_size = 10G SCOPE=MEMORY;

â–¶ï¸ SPFILE â†’ grava alteraÃ§Ã£o apenas no spfile, vÃ¡lida apÃ³s prÃ³ximo restart
SQL> ALTER SYSTEM SET db_files = 500 SCOPE=SPFILE;

â–¶ï¸ BOTH â†’ aplica alteraÃ§Ã£o agora e salva no spfile para persistir
SQL> ALTER SYSTEM SET pga_aggregate_target = 600M SCOPE=BOTH;
   â–«ï¸ SÃ³ Ã© aplicÃ¡vel para parÃ¢metros dinÃ¢micos

SQL> col ISMODIFIED form a30
SQL> SELECT name, value, issys_modifiable, ISMODIFIED
       FROM v$parameter where ISMODIFIED = 'SYSTEM_MOD';


=================================================================
== ğŸ¯ Modificando os parÃ¢metros
=================================================================
SQl> col name form a30
SQl> col value form a30
SQl> SELECT name, value,ISSYS_MODIFIABLE,ISMODIFIED
from v$parameter 
where name in 
('processes',
'sessions',
'compatible',
'db_files',
'db_create_file_dest',
'db_recovery_file_dest',
'db_recovery_file_dest_size',
'db_create_online_log_dest_1',
'db_create_online_log_dest_2',
'pga_aggregate_target'
);


SQL> ALTER SYSTEM SET processes = 800 SCOPE=SPFILE;
SQL> ALTER SYSTEM SET pga_aggregate_target = 700M scope = memory;
SQL> ALTER SYSTEM SET db_recovery_file_dest_size = 20G scope = both;

SQL> show parameter processes;
SQL> show spparameter processes;


=================================================================
== Boas PrÃ¡ticas
=================================================================
ğŸ’¡ Mesmo em parÃ¢metros dinÃ¢micos, sempre faÃ§a backup do spfile
ğŸ’¡ AtenÃ§Ã£o no que vocÃª estÃ¡ mudando
âš ï¸ SÃ³ faÃ§a alteraÃ§Ãµes de parÃ¢metros dentro de uma janela de manutenÃ§Ã£o


=================================================================
== ğŸ ConclusÃ£o
=================================================================
â–¶ï¸ ParÃ¢metros estÃ¡ticos exigem restart para entrar em vigor
â–¶ï¸ ParÃ¢metros dinÃ¢micos podem ser alterados com a instÃ¢ncia ativa
â–¶ï¸ SCOPE define onde e como a alteraÃ§Ã£o serÃ¡ aplicada (MEMORY, SPFILE, BOTH)
